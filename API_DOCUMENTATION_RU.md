# OynaApi - –°–∏—Å—Ç–µ–º–∞ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ò–≥—Ä–æ–≤—ã—Ö –ö–ª—É–±–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤—ã–π URL
```
https://localhost:7183/api
```

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```http
POST /api/auth/login
Content-Type: application/json

{
  "emailOrPhone": "khalych.kz@gmail.com",
  "password": "Burbik27092004"
}
```
**–û—Ç–≤–µ—Ç:** `{ "token": "jwt_token_here", "user": {...} }`

–î–æ–±–∞–≤–∏—Ç—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏: `Authorization: Bearer {token}`

---

## üë§ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –í—Ö–æ–¥
```http
POST /api/auth/login
{
  "emailOrPhone": "string",  // Email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω
  "password": "string"
}
```

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```http
POST /api/auth/register
{
  "fullName": "string",
  "phoneNumber": "string",
  "email": "string",
  "password": "string"
}
```

---

## üè¢ –ö–ª—É–±—ã

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–ª—É–±—ã
```http
GET /api/clubs
```

### –ü–æ–ª—É—á–∏—Ç—å –∫–ª—É–± –ø–æ ID
```http
GET /api/clubs/{id}
```

### –°–æ–∑–¥–∞—Ç—å –∫–ª—É–± (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
```http
POST /api/clubs
{
  "name": "string",
  "city": "string",
  "address": "string",
  "description": "string",
  "phone": "string",
  "email": "string",
  "openingHours": "string"
}
```

---

## üèõÔ∏è –ó–∞–ª—ã

### –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ª—ã –ø–æ –∫–ª—É–±—É
```http
GET /api/halls?clubId={clubId}
```

### –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ª –ø–æ ID
```http
GET /api/halls/{id}
```

---

## üí∫ –ú–µ—Å—Ç–∞

### –ü–æ–ª—É—á–∏—Ç—å –º–µ—Å—Ç–∞ –ø–æ –∑–∞–ª—É
```http
GET /api/seats?hallId={hallId}
```

### –ü–æ–ª—É—á–∏—Ç—å –º–µ—Å—Ç–æ –ø–æ ID
```http
GET /api/seats/{id}
```

---

## üìÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```http
POST /api/bookings
{
  "seatId": 1,
  "tariffId": 1,
  "date": "2025-07-20",
  "startTime": "14:00:00",
  "endTime": "16:00:00"
}
```

### –ü–æ–ª—É—á–∏—Ç—å –º–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```http
GET /api/bookings/my
```

### –ü–æ–ª—É—á–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ ID
```http
GET /api/bookings/{id}
```

### –û—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```http
DELETE /api/bookings/{id}
```

---

## üí≥ –ü–ª–∞—Ç–µ–∂–∏

### –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂
```http
POST /api/payments
{
  "bookingId": 1,
  "amount": 1000.00,
  "paymentMethod": "card"
}
```

### –ü–æ–ª—É—á–∏—Ç—å –º–æ–∏ –ø–ª–∞—Ç–µ–∂–∏
```http
GET /api/payments/my
```

---

## üí∞ –¢–∞—Ä–∏—Ñ—ã

### –ü–æ–ª—É—á–∏—Ç—å —Ç–∞—Ä–∏—Ñ—ã –ø–æ –∫–ª—É–±—É
```http
GET /api/tariffs?clubId={clubId}
```

---

## üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞–¥–º–∏–Ω–∞)

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```http
GET /api/users
Authorization: Bearer {admin_token}
```

### –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```http
POST /api/users
Authorization: Bearer {admin_token}
{
  "fullName": "string",
  "phoneNumber": "string", 
  "email": "string",
  "password": "string",
  "balance": 0,
  "points": 0,
  "roles": ["User"]
}
```

### –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```http
PUT /api/users/{id}
Authorization: Bearer {admin_token}
{
  "id": 1,
  "fullName": "string",
  "phoneNumber": "string",
  "email": "string",
  "balance": 1000,
  "points": 100,
  "isDeleted": false
}
```

### –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)
```http
DELETE /api/users/{id}
Authorization: Bearer {superadmin_token}
```

---

## üîê –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **User** - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç, –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π/–ø–ª–∞—Ç–µ–∂–µ–π
- **Manager** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ –∫–ª—É–±–∞, –ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤
- **Admin** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—É–±–∞–º–∏/–∑–∞–ª–∞–º–∏/–º–µ—Å—Ç–∞–º–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **SuperAdmin** - –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø, —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- `üîì –û—Ç–∫—Ä—ã—Ç—ã–µ` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
- `üîí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å` - –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `üîê –ê–¥–º–∏–Ω` - –¢–æ–ª—å–∫–æ Admin/SuperAdmin
- `‚≠ê –°—É–ø–µ—Ä–ê–¥–º–∏–Ω` - –¢–æ–ª—å–∫–æ SuperAdmin

---

## üì± –û–±—â–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```json
{
  "id": 1,
  "field": "value",
  "createdAt": "2025-07-19T10:00:00Z"
}
```

### –û—Ç–≤–µ—Ç —Å –æ—à–∏–±–∫–æ–π
```json
{
  "type": "https://httpstatuses.com/400",
  "title": "Bad Request", 
  "status": 400,
  "detail": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

### –û—Ç–≤–µ—Ç –º–∞—Å—Å–∏–≤–æ–º
```json
[
  { "id": 1, "name": "–≠–ª–µ–º–µ–Ω—Ç 1" },
  { "id": 2, "name": "–≠–ª–µ–º–µ–Ω—Ç 2" }
]
```

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
1. **–í—Ö–æ–¥** ‚Üí –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
2. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–ª—É–±–æ–≤** ‚Üí `/api/clubs`
3. **–í—ã–±–æ—Ä –∑–∞–ª–∞** ‚Üí `/api/halls?clubId={id}`
4. **–í—ã–±–æ—Ä –º–µ—Å—Ç–∞** ‚Üí `/api/seats?hallId={id}`
5. **–°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** ‚Üí `/api/bookings`
6. **–û–ø–ª–∞—Ç–∞** ‚Üí `/api/payments`

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (CRUD)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—É–±–∞–º–∏/–∑–∞–ª–∞–º–∏/–º–µ—Å—Ç–∞–º–∏
- –ö–æ–Ω—Ç—Ä–æ–ª—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π

---

## üõ†Ô∏è –¢–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –°—É–ø–µ—Ä–ê–¥–º–∏–Ω
```
Email: khalych.kz@gmail.com
–ü–∞—Ä–æ–ª—å: Burbik27092004
```

### –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```
Email: test@oyna.kz  
–ü–∞—Ä–æ–ª—å: 123456
```

---

## üìä –ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è

- `200` - –£—Å–ø–µ—à–Ω–æ
- `201` - –°–æ–∑–¥–∞–Ω–æ
- `204` - –ù–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (—É—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
- `400` - –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `403` - –ó–∞–ø—Ä–µ—â–µ–Ω–æ
- `404` - –ù–µ –Ω–∞–π–¥–µ–Ω–æ
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

## üîÑ –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### –§–æ—Ä–º–∞—Ç DateTime
```json
"2025-07-19T14:30:00Z"
```

### –§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏
```json
"14:30:00"
```

### –§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã
```json
"2025-07-19"
```

### –§–æ—Ä–º–∞—Ç —Å—É–º–º—ã
```json
1000.50
```

---

## üö® –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –≤ UTC
- –ù–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å –∫–æ–¥ —Å—Ç—Ä–∞–Ω—ã
- –ü–∞—Ä–æ–ª–∏ –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤
- JWT —Ç–æ–∫–µ–Ω—ã –∏—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞
- –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (IsDeleted = true)
- –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è –∫–ª—É–±–æ–≤/–∑–∞–ª–æ–≤/–º–µ—Å—Ç
- –í—Å–µ —Å—É–º–º—ã –≤ —Ç–µ–Ω–≥–µ (KZT)
