# 🎮 Oyna Gaming Club Management System

Современная система управления сетью игровых клубов с **НЕВЕРОЯТНО КРАСИВЫМ** веб-интерфейсом и мощным API.

## ✨ Особенности

- 🎨 **Премиум дизайн** - Material UI с градиентами, анимациями и 3D эффектами
- 👥 **Управление пользователями** - роли, права доступа, профили с аватарами
- 🏢 **Управление клубами** - залы, места, тарифы с интерактивными картами
- 📅 **Система бронирования** - календарь, временные слоты, статистика
- 💰 **Финансовая отчетность** - доходы, платежи, аналитика с графиками
- �️ **Роли и права** - настраиваемая система разрешений
- �🔔 **Уведомления** - система оповещений в реальном времени
- � **Интерактивная аналитика** - графики, диаграммы, метрики
- 🎯 **Безопасность** - JWT аутентификация, BCrypt шифрование
- 📱 **Адаптивность** - работает на всех устройствах с красивыми переходами

## 🚀 Быстрый старт

### 1️⃣ Автоматический запуск (рекомендуется)
```bash
# Запустите файл быстрого старта с демо-данными
quick_start.bat
```

### 2️⃣ Ручной запуск

1. **Загрузите тестовые данные:**
```bash
load_test_data.bat
```

2. **Запустите систему:**
```bash
start-all.ps1
```

3. **Откройте браузер:**
- 🌐 Админ-панель: http://localhost:3001
- 📚 API документация: https://localhost:7183/swagger

## 🔐 Тестовые аккаунты

| Роль | Email | Пароль | Описание |
|------|-------|--------|----------|
| 🔴 SuperAdmin | khalych.kz@gmail.com | Burbik27092004 | Полный доступ |
| 🟠 Admin | aleksey.petrov@email.com | 123456 | Администратор |
| 🔵 Manager | maria.sidorova@email.com | 123456 | Менеджер клуба |
| 🟢 User | ivan.sokolov@email.com | 123456 | Обычный пользователь |

## 👤 Роли пользователей
- **SuperAdmin** - Полный доступ к системе, управление пользователями, может удалять пользователей
- **Admin** - Управление клубами, залами, местами, тарифами, просмотр всех бронирований и платежей
- **Manager** - Управление бронированиями и платежами только для назначенного клуба
- **User** - Бронирование мест, просмотр собственного профиля, бронирований и платежей

## � Новые премиум страницы

### 🏢 Управление клубами
- **Интерактивные карты клубов** с фотографиями
- **Статистика в реальном времени** - доходы, бронирования, рейтинги
- **3D эффекты и hover анимации**
- **Градиентные карточки** с цветовой индикацией статуса

### 📅 Управление бронированиями  
- **Календарь-планировщик** на неделю с интерактивными днями
- **Временная шкала** с отображением активности
- **Умные фильтры** по статусу, клубу, дате
- **Топ клубы** с рейтингом по бронированиям

### 💳 Управление платежами
- **Интерактивные графики доходов** с анимацией
- **Круговые диаграммы** способов оплаты
- **Детальная аналитика** комиссий и статистики
- **Матрица транзакций** с цветовым кодированием

### 🛡️ Роли и права
- **Матрица разрешений** с визуальной индикацией
- **Настраиваемые роли** с уровнями доступа
- **Детальный просмотр прав** с аккордеонами
- **Цветовая дифференциация** ролей

## 🛡️ Матрица ролей и разрешений

| Роль         | Описание                                      | Доступ |
|--------------|-----------------------------------------------|--------|
| SuperAdmin   | Полный контроль, удаление пользователей, роли | Все    |
| Admin        | Управление клубами, пользователями, отчеты    | Почти все |
| Manager      | Управление своим клубом, бронирования, платежи| Только свой клуб |
| User         | Клиент, свои бронирования и профиль           | Только свои данные |

### 🔒 Специальные ограничения
- **User**: Только свои записи (по UserId)
- **Manager**: Только объекты своего клуба (по ClubId)
- **SuperAdmin**: Абсолютный доступ
- **Admin**: Не может удалять пользователей

### 🚨 Критически важно
- Все операции с ролями — только SuperAdmin
- Удаление пользователей — только SuperAdmin
- Логи аудита — только SuperAdmin и Admin
- Финансовые операции требуют дополнительной проверки

## �🏗️ Технологический стек
- **Backend**: ASP.NET Core 8.0
- **Frontend**: React 18 + TypeScript + Material-UI
- **Графики**: Recharts + Date-fns
- **База данных**: PostgreSQL
- **Авторизация**: JWT + BCrypt
- **ORM**: Entity Framework Core

## 📱 Для мобильных разработчиков
Полная документация API с примерами: **[API_DOCUMENTATION.md](API_DOCUMENTATION.md)**

## 🗂️ Структура проекта
```
├── Controllers/     # API эндпоинты
├── Models/         # Сущности базы данных
├── Models/Dtos/    # Модели запросов/ответов
├── Data/          # Контекст базы данных
├── Scripts/       # Настройка базы данных
├── Helpers/       # Утилиты
├── Services/      # Бизнес-логика
└── admin-panel/   # React админ-панель
    ├── src/pages/ # Страницы с премиум дизайном
    └── build/     # Продакшн версия
```

## 🔧 Конфигурация
- **База данных**: Обновите строку подключения в `appsettings.json`
- **JWT**: Секретный ключ в `appsettings.json`
- **CORS**: Настроен для всех источников (разработка)